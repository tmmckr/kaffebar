<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Timo's Barista Bar</title>
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="assets/img/icon.png">
    <meta name="theme-color" content="#2c1e16">
    <meta name="view-transition" content="same-origin">
    
    <link rel="stylesheet" href="assets/css/style.css">
    <script src="assets/js/menu.js"></script>
</head>
<body>
    
    <div class="aurora-blob blob-1"></div>
    <div class="aurora-blob blob-2"></div>
    <div class="aurora-blob blob-3"></div>

    <div id="snow-container"></div>

    <h1>Timo's</h1>
    <div class="subtitle">Barista Bar</div>

    <div class="hamburger-btn" onclick="toggleMenu(event)">â˜°</div>

    <div id="main-dropdown" class="dropdown-menu">
        <a href="javascript:openOrderHistory()" class="menu-item">
        <span>ğŸ“œ</span> Meine Bestellungen
        </a>
        <a href="stats.html" class="menu-item">
            <span>ğŸ†</span> Stats & Wrapped
        </a>
        <a href="preise.html" class="menu-item">
            <span>ğŸ’°</span> Preisliste
        </a>
        <a href="feedback.html" class="menu-item">
            <span>ğŸ’¬</span> GÃ¤stebuch
        </a>
        
        <div class="menu-divider"></div>

        <a href="javascript:checkAdminAccess()" class="menu-item">
            <span>ğŸ‘¨â€ğŸ³</span> Admin
        </a>
        <a href="javascript:logout()" class="menu-item" style="color: #fca5a5;">
            <span>ğŸšª</span> Logout
        </a>
    </div>

    <nav class="navbar">
        <a href="app.html" class="nav-link active">Bestellen</a>
        <a href="maschine.html" class="nav-link">Maschine</a>
        <a href="bohnen.html" class="nav-link">Bohnen</a>
        <a href="glaeser.html" class="nav-link">GlÃ¤ser</a>
    </nav>

    <div class="status-container">
        <div id="status-badge" class="status-badge status-open">
            <span class="status-dot dot-green"></span>
            <span id="status-text">PrÃ¼fe Status...</span>
        </div>
    </div>

    <div id="closed-message-box" class="closed-info-box">
        ğŸ”´ Die Barista Bar ist gerade zu.<br>
        <span style="font-size: 0.9rem; color:#fca5a5;">Du hast trotzdem eine Frage?</span><br>
        <span onclick="window.toggleChat()" class="bot-link">Frag den Barista Bot! ğŸ¤–</span>
    </div>

     <div class="news-banner" onclick="openHolyInfo()" style="cursor: pointer; margin-top: 10px; background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%); border: 1px solid #ff7eb3;">
        <span class="news-badge" style="background: #ff4757; color: white;">NEU</span>
        <span style="color: #2c1e16; font-weight: bold;">HOLY Eistee â€“ Koffeinfrei & Fruchtig! ğŸ</span>
    </div>
    
    <div class="news-banner" onclick="openMatchaInfo()" style="cursor: pointer;">
        <span class="news-badge">NEU</span>
        <span>Iced Matcha Latte â€“ auch als Protein-Version! ğŸµ</span>
    </div>

    <div class="bean-card">
        <div class="bean-label">Aktuelle RÃ¶stung</div>
        <div class="bean-name">Tchibo Barista Espresso</div>
        <div class="bean-desc">TrommelrÃ¶stung â€¢ 100% Arabica</div>
        <div class="intensity-wrapper">
            INTENSITÃ„T 5/6
            <div class="progress-bar-bg"><div class="progress-fill" style="width: 83%"></div></div>
        </div>
    </div>

    <div class="stamp-card scroll-reveal">
        <div class="stamp-header">
            <span>â˜• Deine Treuekarte</span>
            <span id="stamp-counter" style="color: #d4b483;">0 / 10</span>
        </div>
        <div class="stamp-grid" id="stamp-grid">
            </div>
        <div id="stamp-message" class="stamp-footer">
            Noch 10 Kaffees bis zum Gratis-Keks! ğŸª
        </div>
    </div>

    <div id="reward-modal" class="modal-overlay">
        <div class="modal-box" style="border-color: gold; box-shadow: 0 0 50px rgba(255, 215, 0, 0.3);">
            <div style="font-size: 4rem;">ğŸ†</div>
            <h2 class="modal-title" style="color: gold;">GlÃ¼ckwunsch!</h2>
            <p class="modal-text">
                Du hast deine Stempelkarte voll! <br>
                Als DankeschÃ¶n gibt es zur nÃ¤chsten Bestellung einen <b>Gratis-Keks</b>.
            </p>
            <button class="modal-btn" onclick="closeRewardModal()" style="background: gold; color: #000;">Juhu!</button>
        </div>
    </div>

    <div id="fav-section">
        <div class="section-title">â¤ï¸ Deine Lieblinge</div>
        <div class="menu-list" id="fav-container"></div>
    </div>

    <div class="menu-list" id="menu-container"></div>

    <div class="tip-section scroll-reveal">
        <div class="tip-controls">
            <div class="tip-title">Trinkgeld</div>
            <div class="tip-sub">Hat es geschmeckt?</div>
            <button class="tip-btn" onclick="giveTip()">
                <span class="coin-icon">ğŸª™</span> Einwerfen
            </button>
        </div>

        <div class="tip-glass-container">
            <div id="tip-glass" class="glass-body">
                </div>
            <div class="glass-shine"></div>
        </div>
    </div> <div id="daily-spin-card" class="chart-card scroll-reveal" style="text-align:center; background: linear-gradient(135deg, #6a1b9a, #4a148c); border-color: #ba68c8; display:none;" onclick="openWheel()">
        <div class="stat-label" style="color: #e1bee7;">Daily Spin</div>
        <div style="font-size: 3rem; margin: 10px 0;">ğŸ¡</div>
        <div style="color: #fff; font-weight:bold;">Dreh am Rad!</div>
        <div style="font-size: 0.8rem; color: #e1bee7;">Dein tÃ¤glicher Gewinn wartet.</div>
    </div>

    <div id="wheel-modal" class="wheel-overlay">
        <div class="wheel-content">
            <div class="close-wheel" onclick="closeWheel()">âœ•</div>
            <h2>Dein Daily Spin ğŸ°</h2>
            
            <div class="wheel-wrapper">
                <div class="wheel-pointer">ğŸ”»</div>
                <div class="the-wheel" id="lucky-wheel">
                    <div class="wheel-segment seg-1"><span>ğŸª<br>Keks</span></div>
                    <div class="wheel-segment seg-2"><span>ğŸ«‚<br>Niete</span></div>
                    <div class="wheel-segment seg-3"><span>â˜•<br>Shot</span></div>
                    <div class="wheel-segment seg-4"><span>ğŸƒ<br>Joker</span></div>
                </div>
            </div>

            <button id="spin-btn" class="spin-button" onclick="spinTheWheel()">JETZT DREHEN</button>
            <div id="win-display" class="win-text"></div>
        </div>
    </div>

    <audio id="kaching-sound" src="assets/audio/kaching.mp3" preload="auto"></audio>
    

    <footer>
        <div class="footer-user">
            ğŸ‘¤ Angemeldet als: <span id="footer-user-name" style="color: #fff; font-weight: bold;">Gast</span>
        </div>

        <div class="footer-links">
            <a href="#" onclick="checkAdminAccess()" class="footer-link">ğŸ‘¨â€ğŸ³ Kitchen Dashboard</a> â€¢ 
            <a href="agb.html" class="footer-link">Â§ AGB</a> â€¢
        </div>

        <div style="opacity: 0.6; margin-top: 15px;">
            Made with <span class="pulse-emoji">â¤ï¸</span> & <span class="pulse-emoji">â˜•</span> by Timo
            <br>
            <span style="font-size: 0.65rem; font-family: sans-serif;">&copy; 2025 Barista Bar App</span>
        </div>
    </footer>

   <div id="order-modal" class="modal-overlay">
        <div class="modal-box">
            <h2 class="modal-title" id="modal-coffee-title">Bestellung</h2>
            
            <div class="coffee-visualizer">
                <div class="glass-cup">
                    <div class="steam-container">
                        <div class="steam s1"></div>
                        <div class="steam s2"></div>
                        <div class="steam s3"></div>
                    </div>
                    <div id="layer-foam" class="liquid foam"></div>
                    <div id="layer-espresso" class="liquid espresso"></div>
                    <div id="layer-water" class="liquid water"></div>
                    <div id="layer-milk" class="liquid milk"></div>
                </div>
                <div class="glass-reflection"></div>
            </div>
            <div id="custom-options"></div>
            
            <button class="modal-btn" onclick="sendOrder()">Bestellen</button>
            <div style="margin-top:15px; font-size:0.8rem; color:#a09085; cursor:pointer;" onclick="closeOrderModal()">Abbrechen</div>
        </div>
    </div>

    <link href="https://fonts.googleapis.com/css2?family=Libre+Barcode+39+Text&display=swap" rel="stylesheet">

<div id="receipt-modal" class="receipt-modal">
    <div class="receipt-paper">
        
        <div class="receipt-header">
            <span class="receipt-logo">â˜•</span>
            <div class="receipt-title">Timo's Bar</div>
            <div class="receipt-date" id="receipt-date">20.12.2025 - 14:30</div>
        </div>
        
        <div class="receipt-body">
            <div class="receipt-row">
                <span id="receipt-item-name">Cappuccino</span>
                <span id="receipt-price">4.20â‚¬</span>
            </div>
            
            <div id="receipt-extras-container"></div>
            
            <div class="receipt-row bold">
                <span>TOTAL</span>
                <span id="receipt-total">0.00â‚¬</span>
            </div>

            <div class="receipt-row" style="font-size: 0.8rem; color: #888; border-top: 1px dashed #ccc; margin-top: 5px; padding-top: 5px;">
                <span>Gespart (vs Starbucks)</span>
                <span id="receipt-saved">-0.00â‚¬</span> 
            </div>
        </div> <div class="receipt-footer">
            Bestellung #<span id="receipt-id">001</span> erfolgreich an die Bar gesendet.<br><br>
            Made with â¤ï¸
            <div class="barcode" style="font-family: 'Libre Barcode 39 Text', cursive;">TIMOS-COFFEE</div>
        </div>

        <button class="receipt-btn" onclick="closeReceipt()">Alles klar!</button>
    </div>
</div>

    <div id="info-modal-holy" class="modal-overlay">
    <div class="modal-box" style="max-height: 85vh; overflow-y: auto;"> <h2 class="modal-title">HOLY Iced Tea ğŸ¥¤</h2>
        <div style="text-align: center; color: #d4b483; margin-bottom: 10px; font-weight: bold;">Koffeinfreier Genuss</div>

        <div style="margin-bottom: 20px; border-radius: 10px; overflow: hidden; border: 1px solid #d4b483; box-shadow: 0 5px 15px rgba(0,0,0,0.5);">
            <img src="assets/img/Holy.webp" alt="Holy Eistee Produkt" style="width: 100%; height: auto; display: block;">
        </div>

        <p class="modal-text" style="color: #ddd; line-height: 1.6; text-align: left; font-size: 0.95rem;">
            Der perfekte DurstlÃ¶scher ohne Zucker und ohne Koffein!<br><br>
            WÃ¤hle aus verschiedenen Sorten wie <b>Lemon x Honey</b>, <b>Lime x Matcha</b> oder <b>Mango x Passion Fruit</b>.<br><br>
            Zubereitet mit stillem oder spritzigem Wasser und natÃ¼rlich vielen EiswÃ¼rfeln.
        </p>

        <h3 style="color: #d4b483; margin-top: 25px; margin-bottom: 10px; font-size: 1.1rem; border-bottom: 1px dashed #555; padding-bottom: 5px;">NÃ¤hrwerte & Inhaltsstoffe</h3>
        
        <div style="margin-bottom: 20px; border-radius: 10px; overflow: hidden; border: 1px solid #555;">
            <img src="assets/img/Naehrwerte.webp" alt="NÃ¤hrwerttabelle" style="width: 100%; height: auto; display: block;">
        </div>

        <button class="modal-btn" onclick="closeHolyInfo()">Alles klar!</button>
        
        <div style="margin-top: 15px; color: #d4b483; text-decoration: underline; cursor: pointer; font-size: 0.9rem;" 
             onclick="closeHolyInfo(); openOrderModal('Holy Eistee')">
            Jetzt direkt bestellen ğŸ›’
        </div>
    </div>
</div>
    
    <div id="info-modal" class="modal-overlay">
        <div class="modal-box">
            <h2 class="modal-title">Iced Matcha Latte ğŸµ</h2>
            
            <div style="margin-bottom: 20px; border-radius: 10px; overflow: hidden; border: 1px solid #d4b483;">
                <img src="assets/img/matchalatte.jpg" alt="Matcha Latte" style="width: 100%; height: auto; display: block;">
            </div>

            <p class="modal-text" style="color: #ddd; line-height: 1.6; text-align: left; font-size: 0.95rem;">
                Unser neuer Sommer-Hit! â˜€ï¸<br><br>
                Zubereitet aus <b>4g Premium Bio-Matcha</b>, der traditionell mit dem Bambusbesen (Chasen) in heiÃŸem Wasser schaumig geschlagen wird.<br><br>
                Serviert auf EiswÃ¼rfeln mit kalter Milch oder Hafermilch fÃ¼r den perfekten Frische-Kick.
            </p>

            <button class="modal-btn" onclick="closeInfoModal()">Alles klar!</button>
            
            <div style="margin-top: 15px; color: #d4b483; text-decoration: underline; cursor: pointer; font-size: 0.9rem;" 
                 onclick="closeInfoModal(); openOrderModal('Iced Matcha Latte')">
                Jetzt direkt bestellen ğŸ›’
            </div>
        </div>
    </div>

    

    <div id="status"></div>

   
    <!-- <div class="chat-toggle" onclick="window.toggleChat()">ğŸ¤–</div>
    <div class="chat-window" id="chat-window">
        <div class="chat-header">
            <span>Barista Bot (Gemini)</span>
            <span class="close-chat" onclick="window.toggleChat()">âœ–</span>
        </div>
        <div class="chat-messages" id="chat-messages">
            <div class="message bot-msg">Hallo! Ich bin dein KI-Barista. Frag mich was zur Karte! â˜•</div>
        </div>
        <div class="chat-input-area">
            <input type="text" id="chat-input" class="chat-input" placeholder="Frage..." onkeypress="window.handleEnter(event)">
            <button class="chat-send" onclick="window.sendMessage()">â¤</button>
        </div>
    </div> -->
    

    <div id="live-status-card">
        <span id="ls-icon" class="status-icon">â³</span>
        <span id="ls-title" class="status-title">Status laden...</span>
        <span id="ls-desc" class="status-desc">Bitte warten</span>
    </div> 

    <div id="history-modal" class="modal-overlay">
    <div class="modal-box" style="max-height: 80vh; overflow-y: auto;">
        <h2 class="modal-title">Deine Bestellungen</h2>
        <div id="history-list" class="history-container">
            <div style="text-align:center; color:#888;">Lade...</div>
        </div>
        <button class="modal-btn" onclick="closeHistoryModal()" style="margin-top:20px; background:#444;">SchlieÃŸen</button>
    </div>
</div>

    <script type="module" src="assets/js/main.js"></script>

</body>
</html>























